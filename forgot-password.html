<!DOCTYPE html>
<html lang="en">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="furniture, home furniture, office furniture, sofas, beds, chairs, tables, wardrobes, living room furniture, bedroom furniture, dining sets, modern furniture, affordable furniture, interior decor, online furniture store, Nigeria furniture shop">
    <meta name="keywords"
        content="furniture, home furniture, office furniture, sofas, beds, chairs, tables, wardrobes, living room furniture, bedroom furniture, dining sets, modern furniture, affordable furniture, interior decor, online furniture store, Nigeria furniture shop">
    <meta name="author" content="pixelstrap">
    <link rel="icon" href="assets/images/dashboard/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="assets/images/dashboard/favicon.png" type="image/x-icon">
    <title>Buy Quality Furniture Online | Stylish & Affordable Home Furniture | Ararat Designs</title>

    <!-- Google font-->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,500;1,600;1,700;1,800;1,900&display=swap">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">


    <!-- Font Awesome-->
    <link rel="stylesheet" type="text/css" href="assets/css/vendors/font-awesome.css">

    <!-- Flag icon-->
    <link rel="stylesheet" type="text/css" href="assets/css/vendors/themify-icons.css">

    <!-- slick icon-->
    <link rel="stylesheet" type="text/css" href="assets/css/vendors/slick.css">
    <link rel="stylesheet" type="text/css" href="assets/css/vendors/slick-theme.css">

    <!-- Bootstrap css-->
    <link rel="stylesheet" type="text/css" href="assets/css/vendors/bootstrap.css">

    <!-- App css-->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

</head>

<body>

    <!-- page-wrapper Start-->
    <div class="page-wrapper">
        <div class="authentication-box">
            <div class="container">
                <div class="row">
                    <div class="col-md-5 p-0 card-left">
                        <div class="card bg-primary mb-0">
                            <div class="single-item">
                                <div>
                                    <div class="mb-4">
                                      <h3>Welcome to Ararat Designs</h3>
                                      <p>Discover elegant, handcrafted furniture made to transform your living space. 
                                         From luxurious sofas to stylish dining sets â€” comfort meets craftsmanship here.</p>
                                    </div>
                                  </div>
                                  <div>
                                    <div class="mb-4">
                                      <h3>Upgrade Your Home with Timeless Pieces</h3>
                                      <p>Explore our premium collection of beds, wardrobes, and decor accessories. 
                                         Designed with quality materials to bring warmth and sophistication to every room.</p>
                                    </div>
                                  </div>
                                  <div>
                                    <div class="mb-4">
                                      <h3>Shop Modern Office Furniture</h3>
                                      <p>Create the perfect workspace with ergonomic chairs and sleek desks built for style and productivity. 
                                         Experience comfort that works as hard as you do.</p>
                                    </div>
                                  </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7 p-0 card-right">
                        <div class="card tab2-card card-login mb-0">
                            <div class="card-body">
                                <div class="tab-content" id="top-tabContent">
                                    <div class="tab-pane fade show active" id="top-profile" role="tabpanel">
                                        <form class="form-horizontal reset-pass auth-form" id="forgotPasswordForm">
                                            <h3 class="forgot-title">Forgot Password</h3>
                                            <div id="forgotPasswordMessage" class="alert d-none mb-3" role="alert"></div>
                                            <div class="form-group reset-input">
                                                <label>Enter your email address and we will send you a link to
                                                    reset your password.</label>
                                                <input required="" name="email" type="email"
                                                    class="form-control" placeholder="Enter your email address"
                                                    id="forgotPasswordEmail">
                                            </div>
                                            <div class="form-button">
                                                <button class="btn btn-primary" type="submit" id="forgotPasswordBtn">
                                                    <span class="btn-text">Reset Password</span>
                                                    <span class="btn-loader d-none">
                                                        <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                                                        Sending...
                                                    </span>
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="login.html" class="btn btn-primary back-btn"><i data-feather="arrow-left"></i>back</a>
            </div>
        </div>
    </div>

    <!-- latest jquery-->
    <script src="assets/js/jquery-3.3.1.min.js"></script>

    <!-- Bootstrap js-->
    <script src="assets/js/bootstrap.bundle.min.js"></script>

    <!-- feather icon js-->
    <script src="assets/js/icons/feather-icon/feather.min.js"></script>
    <script src="assets/js/icons/feather-icon/feather-icon.js"></script>

    <!-- Sidebar jquery-->
    <script src="assets/js/sidebar-menu.js"></script>
    <script src="assets/js/slick.js"></script>

    <!-- lazyload js-->
    <script src="assets/js/lazysizes.min.js"></script>

    <!--right sidebar js-->
    <script src="assets/js/chat-menu.js"></script>

    <!--script admin-->
    <script src="assets/js/admin-script.js"></script>
    
    <!-- Admin App JS for API requests -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/admin-app.js"></script>
    
    <script>
        $('.single-item').slick({
            arrows: false,
            dots: true
        });

        // Handle forgot password form submission
        (function() {
            const form = document.getElementById('forgotPasswordForm');
            const emailInput = document.getElementById('forgotPasswordEmail');
            const submitBtn = document.getElementById('forgotPasswordBtn');
            const messageDiv = document.getElementById('forgotPasswordMessage');
            
            if (!form || !emailInput || !submitBtn) return;

            const showMessage = (message, type = 'success') => {
                if (messageDiv) {
                    messageDiv.textContent = message;
                    messageDiv.className = `alert alert-${type === 'success' ? 'success' : 'danger'} mb-3`;
                    messageDiv.classList.remove('d-none');
                }
                
                if (window.AdminApp && window.AdminApp.showToast) {
                    window.AdminApp.showToast(message, type);
                }
            };

            const setSubmitting = (state) => {
                submitBtn.disabled = state;
                const btnText = submitBtn.querySelector('.btn-text');
                const btnLoader = submitBtn.querySelector('.btn-loader');
                
                if (btnText) btnText.classList.toggle('d-none', state);
                if (btnLoader) btnLoader.classList.toggle('d-none', !state);
            };

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                if (messageDiv) messageDiv.classList.add('d-none');

                const email = emailInput.value.trim();

                if (!email) {
                    showMessage('Please enter your email address.', 'danger');
                    return;
                }

                // Basic email validation
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    showMessage('Please enter a valid email address.', 'danger');
                    return;
                }

                setSubmitting(true);

                try {
                    // Prefer central config, then AdminApp helper, then fall back to detection
                    let apiBaseUrl = (window.getAraratApiBaseUrl && window.getAraratApiBaseUrl()) || window.ARARAT_API_BASE_URL || window.ADMIN_API_BASE_URL || window.AdminApp?.getApiBaseUrl();
                    
                    if (!apiBaseUrl) {
                        // Try central config/global values again; if not present, fallback to localhost
                        const hostname = window.location.hostname;
                        apiBaseUrl = (window.getAraratApiBaseUrl && window.getAraratApiBaseUrl()) || window.ARARAT_API_BASE_URL || window.ADMIN_API_BASE_URL || (hostname === 'localhost' || hostname === '127.0.0.1' ? `http://${hostname}:800/api/v1` : null);
                    }
                    
                    const response = await fetch(`${apiBaseUrl}/auth/forget-password`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ email }),
                    });

                    const data = await response.json();

                    if (response.ok && data.success && !data.error) {
                        showMessage(data.message || 'Password reset link has been sent to your email address. Please check your inbox.', 'success');
                        emailInput.value = '';
                    } else {
                        const errorMsg = data.message || 'Failed to send password reset link. Please try again.';
                        showMessage(errorMsg, 'danger');
                    }
                } catch (error) {
                    console.error('Error sending forgot password request:', error);
                    showMessage('Network error. Please check your connection and try again.', 'danger');
                } finally {
                    setSubmitting(false);
                }
            });
        })();
    </script>

</body>

</html>